<!DOCTYPE HTML>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Отправка email</title>
  <script src='//cdn.tinymce.com/4/tinymce.min.js'></script>
  <script>
      tinymce.init({
        selector: '#mytextarea'
      });
  </script>
  <link href="/css/style.css" media="screen" rel="stylesheet" type="text/css">
 </head>
 <body>
   <form method="post" action="handler.php" enctype="multipart/form-data">
   <div>Адрес электронной почты</div>
   <div><input type="email" name="email" required placeholder="example@mail.com"></div>
   <div>Текст сообщения</div>  
   <div><textarea id="mytextarea" name="html"></textarea></div>
   <div id="add_file">+ прикрепить файл</div>
   <div><input type="submit" name="send" value="Отправить"></div>
   </form>
   <script type="text/javascript">
     add_file.onclick = function() {
        var emptyInput = false;
        var parent = this.parentNode;
        var files = parent.querySelectorAll('input[type="file"]');
        for (var i = 0; i < files.length; i++) {
            var input = files[i];
            emptyInput = (input.files.length > 0) ? false : true ;
        }
        if (!emptyInput) {            
            var div = document.createElement('div');            
            div.innerHTML = '<input type="hidden" name="MAX_FILE_SIZE" value="52428800" /><input type="file" name="uploadfile[]">';  //50Mb
            parent.insertBefore(div, this);
        } else {
            console.log('Файл не выбран');
        }      
     }
   </script>

 </body>
</html>